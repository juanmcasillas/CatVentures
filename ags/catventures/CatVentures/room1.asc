// room script file

function hDoor2_AnyClick()
{
  player.EnterRoom(2, 480, 140, eDirectionLeft);
}

function hDoor1_AnyClick()
{
  
 if (player.ActiveInventory == iKeys) {
  player.Walk(256, 135, eBlock, eWalkableAreas);
  player.FaceDirection(eDirectionRight);
  
    int dState = Doors.GetDoorState(1);
      if (dState == 2) {
            player.Say("Ey! the key works!");
            Doors.SetDoorState(1,0); // to close, but not open
            return;
      }
 }   
 // Door, Object.ID, WalkToHotSpot, FaceHotSpot, RoomIDtoGo, CoordsInRoomToGo, FacingInNewRoom)
 if (Doors.AnyClick(1, oDoor2.ID, 280, 140, eDirectionRight, 3, 35, 135, eDirectionRight)==0) Verbs.Unhandled();
}

function room_FirstLoad()
{
// room 1, door 02 = 1 (note that there are... 0..98
Doors.SetDoorState(1, 2);        
Doors.InitObject(1, oDoor2.ID); 
// go to VerbGUI.VariableExtensions() and add the code!

}

function hAlleyPicture_AnyClick()
{
// LOOK AT
if(Verbs.UsedAction(eGA_LookAt)) {
      player.Say("It's a picture of a very familiar cat.");
      player.Say("In fact, is the first cat that works on a video game");
}
// PUSH
else if(Verbs.UsedAction(eGA_Push)) {
      
      
}
// don't forget this
else Verbs.Unhandled();
}

function hWindow_AnyClick()
{
  if (Verbs.UsedAction(eGA_WalkTo)) {
    player.Say("This only works in one direction.");
  }
  else if(Verbs.UsedAction(eGA_LookAt)) {
      player.Say("The window is open. Shows the alley.");
  }
  else Verbs.Unhandled();
}
